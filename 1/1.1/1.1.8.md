# 1.1.8 ブラックボックス抽象化としての手続き

再帰とは「手続のなかに**自分自身の手続が定義されている手続**のこと」

例) 1.1.7におけるsqrt-iter

再帰について1.2でさらに詳しくやる感じです.

#### sqrtプログラムの手続分解

    sqrt
    │
    sqrt-iter
    │
    ├ improve  
    │ │  
    │ └ average
    │  
    good-enough?
    │
    ├ abs  
    │
    square

sqrtプログラムにおいて,
**自然にいくつかの処理に分割されて手続が行われている**ことに注目.

sqrtプログラムは**手続の群れ**として見ることができる.

#### ブラックボックスとしてみる

good-enough?手続を使用するときにはsquareの手続を行っているが,
squareの手続の中身を知らなくてもgood-enough?の手続を使用できる.

good-enough?手続において,square手続のことを**ブラックボックス**と考えることができる.

(ブラックボックス: 内部の動作原理や構造を理解していなくても,
外部から見た機能や使い方のみを知っていれば,
十分に得られる結果を利用する事のできる機構の概念)

#### 手続の抽象化

先ほどの考え方からgood-enough?手続において,
square手続が

*どのような計算をするのか*が大事ではなく,
***どのような結果を返すのか*** が重要であると考えることができる.

このように考えたとき,
good-enough?手続について考えるとき,

「**squareは手続ではなく手続の抽象に過ぎない**」

といえる.

#### ローカル名
まず2つの手続を示す.

    (define (good-enough? guess x)
      (< (abs (- (square guess) x))
        0.001))

    (define (square x) (* x x))

このように定義されている際に,good-enough?を実行した場合,
squareの実行によってgood-enough?内のxに影響は及ばない.

よってsquareで定義されているxと,good-enough?に定義されているxは,
別のものである.

つまり形式パラメタ(C言語で言う関数の引数)はどのような名前になってもよいと言える.

そのような名前を**bound variable (束縛変数)**と呼ぶ.

また手続を定義することはその形式パラメタを**binds(束縛する)**と呼ぶ.

変数が束縛されていなければ**free(自由)**であると表現できる.

そして,bound variable(束縛変数)の有効範囲のことを**scope(スコープ)**と呼ぶ.

(※good-enough?ではguessとxは束縛変数であり,<,-,abs,squareは自由であると言える)

#### 内部定義とブロック構造
