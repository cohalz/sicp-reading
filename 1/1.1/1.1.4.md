#複合手続き
以上から他の言語にある要素をLispにもあることが確認できました。
 - 数値と算術命令はプリミティブなデータと手続き
 - 組み合わせをネストすることで演算を結合することができる
 - 名前と値を関連付けて定義することは抽象化の手法を与える

 これから、**手続きの定義**(procedure definitions)を学びます。  
 組み立てられた操作に名前をつけて、1つのものとして指し示すことができます。

 例として、「二乗した値」を名前付けてみましょう。
 Schemeコードでは以下のように出来ます。
 ```scheme
 (define (square x) (* x x))
 ```

日本語もつけると以下のようになります。
 ```scheme
 (define    (square    x)  (*      x   x))
 で定義する  二乗するには  xを  掛ける  xを  xで
 ```
 以上が「xの二乗をxをxで掛けて定義する」という文章のScheme版です。  
 ここではsquareと名付けられたものが定義された手続きであり、  
 このようにしてできたものを**複合手続**(compound procedure)と呼びます。  
squareの次に出てきたxは元の数を表していて、元の数にまた同じ数をかけることを表しています。  
この手続を評価すると、squareという名前で複合手続きが作られます。

一般的な手続きの定義方法は以下のようになります。
```
(define ([name] [formal parameters]) [body])
```
[name]には手続きにどのような名前をつけるのかを書き、その次の[formal parameters]では例のxのように、  
手続きに関連する引数を書き並べます。  
そして[body]の部分では手続きの実体を書きます。

そして定義した手続きを使う際には、[name]と[formal parameters]をセットにし、括弧に入れて呼び出します。  
```scheme
(square 5)
```
```
25
```
また、引数の部分に数字だけではなく複雑な式を書くことも出来ます。
```scheme
(square (+ 1 2))
```
```
9
```
更に、定義したものを更に手続きの中に用いることも出来ます。  
次の例はx^2+y^2を定義しています。
```scheme
(define (sum-of-squares x y) (+ (square x) (square y)))
```
定義したものを使ってみましょう。
```scheme
(sum-of-squares 3 4)
```
```
25
```
3^2+4^2=25となりしっかり使えていることがわかります。  
加えて、sum-of-squaresもまた手続きの中に用いることもでき、際限なく続けることが出来ます。  

上の例のように、squareは+や*と同じように使えました。  
このように、自分で定義したものも最初から定義したものも区別なく同じように使えることができるのです。
